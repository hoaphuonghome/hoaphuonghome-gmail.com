(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{311:function(t,e,n){"use strict";n.r(e);n(29),n(18),n(43),n(42);var r,o,c=n(3),l={props:["listEmailRandom"],methods:{valid_email:function(t){return!0===t.success?"success":!1===t.success?"danger":"primary"},valid_diabled:function(t){return void 0!==t.success},valid_status:function(t){return!0===t.success?"Chấp thuận":!1===t.success?"Từ chối":"Chưa quét"}}},m=n(11),d={components:{ScanRandom:Object(m.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{"default-sort":{prop:"index",order:"ascending"},data:t.listEmailRandom,height:"650",border:!1,"highlight-current-row":!1,stripe:!1,lazy:!1,"show-summary":!1,"tooltip-effect":"light"}},[n("el-table-column",{attrs:{type:"index",prop:"index",label:"STT",align:"left",sortable:!1,fixed:!1,width:"60"}}),t._v(" "),n("el-table-column",{attrs:{label:"Email",prop:"email",align:"left",sortable:!1,fixed:!1,width:"200"}}),t._v(" "),n("el-table-column",{attrs:{align:"right",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:t.valid_email(e.row),icon:"",plain:!0,round:!1,circle:!1,autofocus:!1,size:"small",disabled:""}},[t._v(t._s(t.valid_status(e.row)))])]}}])})],1)}),[],!1,null,"b372b400",null).exports},data:function(){return{listEmail:[],turnon:!1}},created:(o=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all[(this.getStatus(),this.getEmail())];case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),mounted:(r=Object(c.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this,setInterval(Object(c.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/scan");case 2:n=t.sent,data=n.data,e.listEmail=data;case 5:case"end":return t.stop()}}),t)}))),1e3);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),methods:{getEmail:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/scan");case 2:return n=e.sent,data=n.data,e.abrupt("return",t.listEmail=data);case 5:case"end":return e.stop()}}),e)})))()},getStatus:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/status");case 2:return n=e.sent,data=n.data,e.abrupt("return",t.turnon=data[0].status);case 5:case"end":return e.stop()}}),e)})))()},turn:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/api/email/autoscan",{turnon:t.turnon});case 2:case"end":return e.stop()}}),e)})))()}}},f=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{attrs:{span:12,offset:6}},[n("el-switch",{on:{change:t.turn},model:{value:t.turnon,callback:function(e){t.turnon=e},expression:"turnon"}}),t._v(" "),n("ScanRandom",{attrs:{listEmailRandom:t.listEmail}})],1)],1)}),[],!1,null,null,null);e.default=f.exports}}]);